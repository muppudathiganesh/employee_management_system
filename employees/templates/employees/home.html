
{% extends "base.html" %}
{% load static %}
{% block title %}Dashboard{% endblock %}

{% block content %}

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  
  
  <div class="main-content">
    <!-- <button class="toggle-btn mb-3" onclick="toggleSidebar()">‚ò∞ Menu</button> -->

    <div class="topbar">
      <h5 class="text-success mb-0">WELCOME ADMIN</h5> 
     
    </div>

  
    <div class="row g-4 dashboard-cards">
      <div class="col-lg-3 col-md-6 col-12">
        <div class="card bg-teal p-3">
          <i class="bi bi-people-fill fs-1 mb-2"></i>
          <h3>Total Employees</h3>
          <h2>{{ total_employees }}</h2>
          <a href="{% url 'employee_list' %}" class="btn btn-light text-black fw-bold mt-2 d-block mx-auto" style="width:150px;">View All</a>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-12">
        <div class="card bg-blue p-3">
          <i class="bi bi-calendar2-check-fill fs-1 mb-2"></i>
          <h3>On Leave Today</h3>
          <h2>{{ on_leave_today }}</h2>
          <a href="{% url 'leave_list' %}" class="btn btn-light text-black fw-bold mt-2 d-block mx-auto" style="width:150px;">View All</a>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-12">
        <div class="card bg-green p-3 ">
          <i class="bi bi-building fs-1 mb-2"></i>
          <h3>Total Departments</h3>
          <h2>{{ total_departments }}</h2>
          <a href="{% url 'view_departments' %}" class="btn btn-light text-black fw-bold mt-2 d-block mx-auto" style="width:150px;">View All</a>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-12">
        <div class="card bg-olive p-3">
          <i class="bi bi-hourglass-split fs-1 mb-2"></i>
          <h3>Pending Approvals</h3>
          <h2>{{ pending_approvals }}</h2>
          <a href="{% url 'attendance_list' %}" class="btn btn-light text-black fw-bold mt-2 d-block mx-auto" style="width:150px;">View All</a>
        </div>
      </div>
    </div>

    
      <div class="row mt-5">
  <div class="col-lg-6 mb-4">
    <div class="card news-card text-white p-4 rounded shadow-lg">
      <h1 class="mb-4">üì¢ Latest Office News</h1>
      <div id="newsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2500">
        <div class="carousel-inner text-center">
          <div class="carousel-item active">
            <p class="fs-5"><strong>üéâ Employee of the Month:</strong><br>Rajesh Kumar (Sales)</p>
          </div>
          <div class="carousel-item">
            <p class="fs-5"><strong>üìÖ Holiday:</strong><br>Diwali ‚Äì Nov 10 (Saturday)</p>
          </div>
          <div class="carousel-item">
            <p class="fs-5"><strong>üèÜ Team Achievement:</strong><br>CRM Automation Completed!</p>
          </div>
          <div class="carousel-item">
            <p class="fs-5"><strong>üí¨ Staff Meeting:</strong><br>Monday 10 AM</p>
          </div>
          <div class="carousel-item">
            <p class="fs-5"><strong>üéÇ Birthdays:</strong><br>Priya & Naveen üéà</p>
          </div>
        </div>
      </div>
    </div>
  </div>



     <div class="col-lg-6 mb-4 text-center">
  <h4 class="text-center mb-4 text-success fw-bold">Today's Attendance Overview</h4>
  <div class="d-flex justify-content-center align-items-center" style="height:300px;">
    <canvas id="attendanceChart"></canvas>
  </div>
</div>

    </div>
   <!-- üè¢ About Mortza Section -->
<section id="about" class="about-section mt-5 p-4 rounded shadow-lg bg-white" data-aos="fade-up">

  <h2 class="text-center text-success mb-4 fw-bold" data-aos="zoom-in">
    <i class="bi bi-building me-2"></i>About vetri
  </h2>

  <p class="fs-5 text-center text-muted mb-4 px-3" data-aos="fade-up" data-aos-delay="100">
    <strong>Vetri </strong> is a modern HR solution crafted to simplify employee
    data management, attendance tracking, payroll generation, and performance monitoring.
    Built with cutting-edge technologies and a focus on user experience, it enables businesses
    to handle HR operations efficiently and transparently.
  </p>

  <div class="row text-center g-4">
    <div class="col-md-4" data-aos="zoom-in" data-aos-delay="150">
      <div class="border rounded p-4 h-100">
        <i class="bi bi-people-fill fs-1 text-success mb-3"></i>
        <h5 class="fw-bold text-dark">Smart Employee Management</h5>
        <p class="text-muted">Manage employee records, roles, and departments effortlessly from a single dashboard.</p>
      </div>
    </div>

    <div class="col-md-4" data-aos="zoom-in" data-aos-delay="250">
      <div class="border rounded p-4 h-100">
        <i class="bi bi-calendar-check fs-1 text-success mb-3"></i>
        <h5 class="fw-bold text-dark">Attendance & Leave Tracking</h5>
        <p class="text-muted">Real-time tracking of attendance, automated leave approvals, and absence summaries.</p>
      </div>
    </div>

    <div class="col-md-4" data-aos="zoom-in" data-aos-delay="350">
      <div class="border rounded p-4 h-100">
        <i class="bi bi-cash-coin fs-1 text-success mb-3"></i>
        <h5 class="fw-bold text-dark">Payroll Automation</h5>
        <p class="text-muted">Generate salary slips, compute taxes, and process payroll with accuracy and ease.</p>
      </div>
    </div>
  </div>

<div class="text-center mt-4" data-aos="fade-up" data-aos-delay="400">
  <img src="{% static 'images/employee.png' %}" 
       alt="Our Mission"
       class="img-fluid rounded shadow-sm" 
       style="max-height: 280px; object-fit: cover;">
</div>

</section>
<!-- üìÖ Meeting Scheduler Section -->

<section class="meeting-section mt-5 p-4 rounded shadow-lg bg-light" data-aos="fade-up">
  <div class="row align-items-center g-4">

    <!-- Left: Text -->
    <div class="col-lg-6" data-aos="fade-right">
      <h2 class="text-success fw-bold mb-3">
        <i class="bi bi-calendar-event me-2"></i>Smart Meeting Scheduler
      </h2>
      <p class="text-muted fs-5">
        Plan, organize, and manage your meetings efficiently with the 
        <strong>Mortza Meeting Scheduler</strong>.
        Sync meetings with your employee database, send automatic reminders, and track attendance ‚Äî 
        all within a unified dashboard.
      </p>
      <ul class="list-unstyled text-muted fs-6 mt-3">
        <li><i class="bi bi-check-circle-fill text-success me-2"></i> Schedule one-on-one or group meetings</li>
        <li><i class="bi bi-check-circle-fill text-success me-2"></i> Send calendar invites automatically</li>
        <li><i class="bi bi-check-circle-fill text-success me-2"></i> Real-time meeting updates and alerts</li>
      </ul>

      <!-- Button to open Modal -->
      <!-- <button class="btn btn-success mt-3 px-4 py-2 rounded-pill shadow-sm" 
              data-bs-toggle="modal" data-bs-target="#meetingModal">
        <i class="bi bi-plus-circle me-2"></i> Schedule a Meeting
      </button> -->
      <a href="{% url 'meeting_section' %}" 
   class="btn btn-success mt-3 px-4 py-2 rounded-pill shadow-sm">
  <i class="bi bi-plus-circle me-2"></i> Schedule a Meeting
</a>

    </div>

    <!-- Right: Image -->
    <div class="col-lg-6 text-center" data-aos="fade-left">
      <img src="{% static 'images/SUNBASE+-+Blog+May+Week+3-640w.webp' %}" alt="Meeting Scheduler"
           class="img-fluid rounded shadow-lg" style="max-height: 350px; object-fit: cover;">
    </div>
  </div>
</section>



  
  <!-- üü¢ Contact Section -->
<div class="container my-5 py-5" id="contact" data-aos="fade-up" data-aos-delay="200">

    <div class="text-center mb-4">
        <img src="{% static 'images/Screenshot 2025-11-19 103138.png' %}"
             
             class="img-fluid"
             style="height: 200px; width: auto;">
    </div>

    <!-- 3 Contact Boxes -->
    <div class="row text-center g-4">

        <!-- Address Box -->
        <div class="col-md-4">
            <div class="p-4 border rounded shadow-sm bg-light">
                <div class="mb-2">
                    <i class="bi bi-geo-alt-fill text-danger fs-1"></i>
                </div>
                <h5 class="fw-bold">ADDRESS</h5>
                <p class="text-secondary mb-0">
                 SURANDAI BUS STAND BACKSIDE,
SURANDAI, TENKASI ‚Äì 627 859
                </p>
            </div>
        </div>

        <!-- Phone Box -->
        <div class="col-md-4">
            <div class="p-4 border rounded shadow-sm bg-light">
                <div class="mb-2">
                    <i class="bi bi-telephone-fill text-danger fs-1"></i>
                </div>
                <h5 class="fw-bold">PHONE NUMBER</h5>
                <p class="text-secondary mb-0">
                    8438558527<br>
8438164827
                </p>
            </div>
        </div>

        <!-- Email Box -->
        <div class="col-md-4">
            <div class="p-4 border rounded shadow-sm bg-light">
                <div class="mb-2">
                    <i class="bi bi-envelope-fill text-danger fs-1"></i>
                </div>
                <h5 class="fw-bold">EMAIL <br>ADDRESS</h5>
                <p class="text-secondary mb-0 text-break">
                 vetritechnologysolutions@gmail.com
                </p>
            </div>
        </div>

    </div>
</div>


  <!-- Footer -->
  <!-- <footer class="text-center py-3">
    <strong>Powerded by:</strong> <span class="text-success">VETRI IT SYSTEM</span> | ¬© 2025 VETRI EMS
  </footer> -->


  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const ctx = document.getElementById('attendanceChart');
      const present = parseInt("{{ present_today|default:'0' }}") || 0;
      const absent = parseInt("{{ absent_today|default:'0' }}") || 0;
      const leave = parseInt("{{ leave_today|default:'0' }}") || 0;

      new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Present', 'Absent', 'On Leave'],
          datasets: [{
            data: [present, absent, leave],
            backgroundColor: ['#198754', '#dc3545', '#ffc107'],
            borderColor: '#fff',
            borderWidth: 2
          }]
        },
        options: {
          cutout: '70%',
          plugins: {
            legend: {
              position: 'bottom',
              labels: { color: '#000', font: { size: 14, family: "'Poppins', sans-serif" } }
            }
          }
        }
      });
    });

    // function toggleSidebar() {
    //   document.getElementById('sidebar').classList.toggle('active');
  //   function toggleSidebar() {
  // const sidebar = document.getElementById('sidebar');
  // sidebar.classList.toggle('active');


  //   }
  </script>
<!-- AOS Animation Library -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({
    duration: 1000,     // animation duration (ms)
    once: true,         // animate only once
    offset: 100,        // distance before trigger
  });
</script>
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> -->
<!-- <script>
  // Sidebar toggle
  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('active');
  }

  // === Navbar collapse close on link click ===
  document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
    const navbarCollapse = document.querySelector('.navbar-collapse');

    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        const bsCollapse = new bootstrap.Collapse(navbarCollapse, { toggle: false });
        bsCollapse.hide();
      });
    });
  });
</script> -->


{% endblock %}