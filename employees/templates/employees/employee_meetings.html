{% extends "base.html" %}
{% load static %}
{% block title %}Dashboard{% endblock %}

{% block content %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<!-- <style>
/* General */
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background-color: #f8f9fa;
  overflow-x: hidden;
}

/* Sidebar */
.sidebar {
  width: 250px;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
 
      background-color:rgb(53, 148, 53);
  color: #fff;
  padding-top: 30px;
  transition: left 0.3s ease;
  z-index: 1000;
}
.sidebar h4 { text-align: center; margin-bottom: 25px;font-size: 24px; }

.sidebar a {
  display: block;
  color: white;
  padding: 12px 20px;
  text-decoration: none;
  font-size: 18px;
}
.sidebar a:hover, .sidebar a.active {
  background-color: gray;
}

/* Mobile Sidebar Hidden */
@media (max-width: 768px) {
  .sidebar { left: -250px; }
  .sidebar.active { left: 0; }
}

/* Toggle Button */
.toggle-btn {
  display: none;
  background: #0d6efd;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 5px;
  font-size: 18px;
}
@media (max-width: 768px) {
  .toggle-btn { display: inline-block; }
}

/* Main Content */
.content {
  margin-left: 250px;
  padding: 20px;
  transition: margin-left 0.3s;
}
@media (max-width: 768px) {
  .content { margin-left: 0; }
}

/* Close button for mobile sidebar */
.sidebar-close-btn {
  background: white;
  border: 1px solid #ccc;
  font-size: 18px;
}
.sidebar-close-btn:hover {
  background: #dc3545;
  color: white;
}
</style>
</head>

<body>

<!- Mobile Toggle Button -->
<!-- <button class="toggle-btn m-3 d-md-none" onclick="toggleSidebar()">
  â˜° Menu
</button> -->

<!-- Sidebar -->
<!-- <div class="sidebar" id="sidebar">

  <div class="position-relative text-center mb-4 px-3 pt-3">
    <button class="btn sidebar-close-btn d-md-none position-absolute top-0 end-0" onclick="toggleSidebar()">
      &times;
    </button>
    <h4></h4>
  </div>

  {% if request.user.is_superuser %}
    <a href="{% url 'dashboard' %}">ğŸ“Š Dashboard</a>
    <a href="{% url 'employee_list' %}" class="active">ğŸ‘¥ All Employees</a>
    <a href="{% url 'view_departments' %}">ğŸ¢ Departments</a>
    <a href="{% url 'attendance_list' %}">ğŸ“… Attendance</a>
    <a href="{% url 'payroll_list' %}">ğŸ’° Payroll</a>
    <a href="{% url 'leave_list' %}">ğŸ“ Leave</a>
    <a href="{% url 'employee_detail' %}">âš™ Employee Details</a>

  {% else %}
    <a href="{% url 'employee_dashboard' %}">ğŸ“Š Dashboard</a>
    <a href="{% url 'employee_list' %}" class="active">ğŸ‘¥ All Employees</a>
    <a href="{% url 'view_departments' %}">ğŸ¢ Departments</a>
    <a href="{% url 'attendance_list' %}">ğŸ“… Attendance</a>
    <a href="{% url 'payroll_list' %}">ğŸ’° Payroll</a>
    <a href="{% url 'leave_list' %}">ğŸ“ Leave</a>
    <a href="{% url 'employee_detail' %}">âš™ Employee Details</a>
  {% endif %}

</div> --> 

<!-- Main Content -->
<div class="content">
  <div class="container mt-4">

   <h3 class="text-success mb-4">ğŸ“… My Meetings</h3>


    {% if meetings %}
      <div class="table-responsive">
        <table class="table table-striped table-bordered shadow-sm">
          <thead class="table-dark">
            <tr>
              <th>Title</th>
              <th>Date & Time</th>
              <th>Details</th>
            </tr>
          </thead>
          <tbody>
            {% for meeting in meetings %}
              <tr {% if employee in meeting.employees.all %} class="table-success" {% endif %}>
                <td>{{ meeting.title }}</td>
                <td>{{ meeting.datetime|date:"M d, Y â€” h:i A" }}</td>
                <td>{{ meeting.details }}</td>
              </tr>
              
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-muted">No meetings scheduled.</p>
    {% endif %}

  </div>
</div>

<script>
function toggleSidebar() {
  document.getElementById("sidebar").classList.toggle("active");
}
</script>


{% endblock %}
